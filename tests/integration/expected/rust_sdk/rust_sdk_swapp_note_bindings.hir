builtin.component miden:base/note-script@1.0.0 {
    builtin.module public @rust_sdk_swapp_note_bindings {
        private builtin.function @__wasm_call_ctors() {
        ^block5:
            builtin.ret ;
        };

        private builtin.function @rust_sdk_swapp_note_bindings::bindings::__link_custom_section_describing_imports() {
        ^block7:
            builtin.ret ;
        };

        private builtin.function @<miden_stdlib_sys::intrinsics::word::Word as core::cmp::PartialEq>::eq(v0: i32, v1: i32) -> i32 {
        ^block9(v0: i32, v1: i32):
            v5 = hir.bitcast v0 : u32;
            v6 = arith.constant 4 : u32;
            v7 = arith.mod v5, v6 : u32;
            hir.assertz v7 #[code = 250];
            v8 = hir.int_to_ptr v5 : ptr<byte, felt>;
            v9 = hir.load v8 : felt;
            v10 = hir.bitcast v1 : u32;
            v342 = arith.constant 4 : u32;
            v12 = arith.mod v10, v342 : u32;
            hir.assertz v12 #[code = 250];
            v13 = hir.int_to_ptr v10 : ptr<byte, felt>;
            v14 = hir.load v13 : felt;
            v3 = arith.constant 0 : i32;
            v17 = arith.constant 1 : i32;
            v15 = arith.eq v9, v14 : i1;
            v16 = hir.cast v15 : i32;
            v18 = arith.neq v16, v17 : i1;
            v19 = arith.zext v18 : u32;
            v20 = hir.bitcast v19 : i32;
            v22 = arith.neq v20, v3 : i1;
            v320 = scf.if v22 : i32 {
            ^block11:
                v341 = arith.constant 0 : i32;
                scf.yield v341;
            } else {
            ^block12:
                v340 = arith.constant 4 : u32;
                v23 = hir.bitcast v0 : u32;
                v25 = arith.add v23, v340 : u32 #[overflow = checked];
                v339 = arith.constant 4 : u32;
                v27 = arith.mod v25, v339 : u32;
                hir.assertz v27 #[code = 250];
                v28 = hir.int_to_ptr v25 : ptr<byte, felt>;
                v29 = hir.load v28 : felt;
                v338 = arith.constant 4 : u32;
                v30 = hir.bitcast v1 : u32;
                v32 = arith.add v30, v338 : u32 #[overflow = checked];
                v337 = arith.constant 4 : u32;
                v34 = arith.mod v32, v337 : u32;
                hir.assertz v34 #[code = 250];
                v35 = hir.int_to_ptr v32 : ptr<byte, felt>;
                v36 = hir.load v35 : felt;
                v335 = arith.constant 0 : i32;
                v336 = arith.constant 1 : i32;
                v37 = arith.eq v29, v36 : i1;
                v38 = hir.cast v37 : i32;
                v40 = arith.neq v38, v336 : i1;
                v41 = arith.zext v40 : u32;
                v42 = hir.bitcast v41 : i32;
                v44 = arith.neq v42, v335 : i1;
                v322 = scf.if v44 : i32 {
                ^block46:
                    v334 = arith.constant 0 : i32;
                    scf.yield v334;
                } else {
                ^block13:
                    v46 = arith.constant 8 : u32;
                    v45 = hir.bitcast v0 : u32;
                    v47 = arith.add v45, v46 : u32 #[overflow = checked];
                    v333 = arith.constant 4 : u32;
                    v49 = arith.mod v47, v333 : u32;
                    hir.assertz v49 #[code = 250];
                    v50 = hir.int_to_ptr v47 : ptr<byte, felt>;
                    v51 = hir.load v50 : felt;
                    v332 = arith.constant 8 : u32;
                    v52 = hir.bitcast v1 : u32;
                    v54 = arith.add v52, v332 : u32 #[overflow = checked];
                    v331 = arith.constant 4 : u32;
                    v56 = arith.mod v54, v331 : u32;
                    hir.assertz v56 #[code = 250];
                    v57 = hir.int_to_ptr v54 : ptr<byte, felt>;
                    v58 = hir.load v57 : felt;
                    v329 = arith.constant 0 : i32;
                    v330 = arith.constant 1 : i32;
                    v59 = arith.eq v51, v58 : i1;
                    v60 = hir.cast v59 : i32;
                    v62 = arith.neq v60, v330 : i1;
                    v63 = arith.zext v62 : u32;
                    v64 = hir.bitcast v63 : i32;
                    v66 = arith.neq v64, v329 : i1;
                    v323 = scf.if v66 : i32 {
                    ^block45:
                        v328 = arith.constant 0 : i32;
                        scf.yield v328;
                    } else {
                    ^block14:
                        v68 = arith.constant 12 : u32;
                        v67 = hir.bitcast v0 : u32;
                        v69 = arith.add v67, v68 : u32 #[overflow = checked];
                        v327 = arith.constant 4 : u32;
                        v71 = arith.mod v69, v327 : u32;
                        hir.assertz v71 #[code = 250];
                        v72 = hir.int_to_ptr v69 : ptr<byte, felt>;
                        v73 = hir.load v72 : felt;
                        v326 = arith.constant 12 : u32;
                        v74 = hir.bitcast v1 : u32;
                        v76 = arith.add v74, v326 : u32 #[overflow = checked];
                        v325 = arith.constant 4 : u32;
                        v78 = arith.mod v76, v325 : u32;
                        hir.assertz v78 #[code = 250];
                        v79 = hir.int_to_ptr v76 : ptr<byte, felt>;
                        v80 = hir.load v79 : felt;
                        v324 = arith.constant 1 : i32;
                        v81 = arith.eq v73, v80 : i1;
                        v82 = hir.cast v81 : i32;
                        v84 = arith.eq v82, v324 : i1;
                        v85 = arith.zext v84 : u32;
                        v86 = hir.bitcast v85 : i32;
                        scf.yield v86;
                    };
                    scf.yield v323;
                };
                scf.yield v322;
            };
            builtin.ret v320;
        };

        private builtin.function @miden:base/note-script@1.0.0#run(v88: felt, v89: felt, v90: felt, v91: felt) {
        ^block15(v88: felt, v89: felt, v90: felt, v91: felt):
            v94 = builtin.global_symbol @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/__stack_pointer : ptr<byte, u8>
            v95 = hir.bitcast v94 : ptr<byte, i32>;
            v96 = hir.load v95 : i32;
            v97 = arith.constant 48 : i32;
            v98 = arith.sub v96, v97 : i32 #[overflow = wrapping];
            v99 = builtin.global_symbol @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/__stack_pointer : ptr<byte, u8>
            v100 = hir.bitcast v99 : ptr<byte, i32>;
            hir.store v100, v98;
            hir.exec @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/wit_bindgen::rt::run_ctors_once()
            v101 = arith.constant 8 : i32;
            v102 = arith.add v98, v101 : i32 #[overflow = wrapping];
            hir.exec @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/miden_base_sys::bindings::active_note::get_sender(v102)
            v104 = arith.constant 12 : u32;
            v103 = hir.bitcast v98 : u32;
            v105 = arith.add v103, v104 : u32 #[overflow = checked];
            v106 = arith.constant 4 : u32;
            v107 = arith.mod v105, v106 : u32;
            hir.assertz v107 #[code = 250];
            v108 = hir.int_to_ptr v105 : ptr<byte, felt>;
            v109 = hir.load v108 : felt;
            v111 = arith.constant 8 : u32;
            v110 = hir.bitcast v98 : u32;
            v112 = arith.add v110, v111 : u32 #[overflow = checked];
            v376 = arith.constant 4 : u32;
            v114 = arith.mod v112, v376 : u32;
            hir.assertz v114 #[code = 250];
            v115 = hir.int_to_ptr v112 : ptr<byte, felt>;
            v116 = hir.load v115 : felt;
            v117 = arith.constant 16 : i32;
            v118 = arith.add v98, v117 : i32 #[overflow = wrapping];
            hir.exec @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/miden_base_sys::bindings::active_note::get_script_root(v118)
            v119 = arith.constant 32 : i32;
            v120 = arith.add v98, v119 : i32 #[overflow = wrapping];
            hir.exec @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/miden_base_sys::bindings::active_note::get_serial_number(v120)
            v121 = hir.exec @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/miden_base_sys::bindings::active_account::get_balance(v116, v109) : felt
            v92 = arith.constant 0 : i32;
            v124 = arith.constant 1 : i32;
            v122 = arith.eq v116, v116 : i1;
            v123 = hir.cast v122 : i32;
            v125 = arith.neq v123, v124 : i1;
            v126 = arith.zext v125 : u32;
            v127 = hir.bitcast v126 : i32;
            v129 = arith.neq v127, v92 : i1;
            v347 = scf.if v129 : u32 {
            ^block54:
                v343 = arith.constant 0 : u32;
                scf.yield v343;
            } else {
            ^block18:
                v374 = arith.constant 0 : i32;
                v375 = arith.constant 1 : i32;
                v130 = arith.eq v109, v109 : i1;
                v131 = hir.cast v130 : i32;
                v133 = arith.neq v131, v375 : i1;
                v134 = arith.zext v133 : u32;
                v135 = hir.bitcast v134 : i32;
                v137 = arith.neq v135, v374 : i1;
                v349 = scf.if v137 : u32 {
                ^block53:
                    v373 = arith.constant 0 : u32;
                    scf.yield v373;
                } else {
                ^block19:
                    v371 = arith.constant 16 : i32;
                    v141 = arith.add v98, v371 : i32 #[overflow = wrapping];
                    v372 = arith.constant 16 : i32;
                    v139 = arith.add v98, v372 : i32 #[overflow = wrapping];
                    v142 = hir.exec @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/<miden_stdlib_sys::intrinsics::word::Word as core::cmp::PartialEq>::eq(v139, v141) : i32
                    v369 = arith.constant 0 : i32;
                    v370 = arith.constant 0 : i32;
                    v144 = arith.eq v142, v370 : i1;
                    v145 = arith.zext v144 : u32;
                    v146 = hir.bitcast v145 : i32;
                    v148 = arith.neq v146, v369 : i1;
                    v351 = scf.if v148 : u32 {
                    ^block52:
                        v368 = arith.constant 0 : u32;
                        scf.yield v368;
                    } else {
                    ^block20:
                        v366 = arith.constant 32 : i32;
                        v152 = arith.add v98, v366 : i32 #[overflow = wrapping];
                        v367 = arith.constant 32 : i32;
                        v150 = arith.add v98, v367 : i32 #[overflow = wrapping];
                        v153 = hir.exec @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/<miden_stdlib_sys::intrinsics::word::Word as core::cmp::PartialEq>::eq(v150, v152) : i32
                        v364 = arith.constant 0 : i32;
                        v365 = arith.constant 0 : i32;
                        v155 = arith.eq v153, v365 : i1;
                        v156 = arith.zext v155 : u32;
                        v157 = hir.bitcast v156 : i32;
                        v159 = arith.neq v157, v364 : i1;
                        v353 = scf.if v159 : u32 {
                        ^block51:
                            v363 = arith.constant 0 : u32;
                            scf.yield v363;
                        } else {
                        ^block21:
                            v361 = arith.constant 0 : i32;
                            v362 = arith.constant 1 : i32;
                            v160 = arith.eq v121, v121 : i1;
                            v161 = hir.cast v160 : i32;
                            v163 = arith.neq v161, v362 : i1;
                            v164 = arith.zext v163 : u32;
                            v165 = hir.bitcast v164 : i32;
                            v167 = arith.neq v165, v361 : i1;
                            scf.if v167{
                            ^block50:
                                scf.yield ;
                            } else {
                            ^block22:
                                v360 = arith.constant 48 : i32;
                                v169 = arith.add v98, v360 : i32 #[overflow = wrapping];
                                v170 = builtin.global_symbol @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/__stack_pointer : ptr<byte, u8>
                                v171 = hir.bitcast v170 : ptr<byte, i32>;
                                hir.store v171, v169;
                                scf.yield ;
                            };
                            v345 = arith.constant 1 : u32;
                            v359 = arith.constant 0 : u32;
                            v357 = cf.select v167, v359, v345 : u32;
                            scf.yield v357;
                        };
                        scf.yield v353;
                    };
                    scf.yield v351;
                };
                scf.yield v349;
            };
            v358 = arith.constant 0 : u32;
            v356 = arith.eq v347, v358 : i1;
            cf.cond_br v356 ^block17, ^block56;
        ^block17:
            ub.unreachable ;
        ^block56:
            builtin.ret ;
        };

        private builtin.function @wit_bindgen::rt::run_ctors_once() {
        ^block23:
            v173 = builtin.global_symbol @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/GOT.data.internal.__memory_base : ptr<byte, u8>
            v174 = hir.bitcast v173 : ptr<byte, i32>;
            v175 = hir.load v174 : i32;
            v176 = arith.constant 1048584 : i32;
            v177 = arith.add v175, v176 : i32 #[overflow = wrapping];
            v178 = hir.bitcast v177 : u32;
            v179 = hir.int_to_ptr v178 : ptr<byte, u8>;
            v180 = hir.load v179 : u8;
            v172 = arith.constant 0 : i32;
            v181 = arith.zext v180 : u32;
            v182 = hir.bitcast v181 : i32;
            v184 = arith.neq v182, v172 : i1;
            scf.if v184{
            ^block25:
                scf.yield ;
            } else {
            ^block26:
                v185 = builtin.global_symbol @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/GOT.data.internal.__memory_base : ptr<byte, u8>
                v186 = hir.bitcast v185 : ptr<byte, i32>;
                v187 = hir.load v186 : i32;
                hir.exec @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/__wasm_call_ctors()
                v378 = arith.constant 1 : u8;
                v380 = arith.constant 1048584 : i32;
                v189 = arith.add v187, v380 : i32 #[overflow = wrapping];
                v193 = hir.bitcast v189 : u32;
                v194 = hir.int_to_ptr v193 : ptr<byte, u8>;
                hir.store v194, v378;
                scf.yield ;
            };
            builtin.ret ;
        };

        private builtin.function @miden_base_sys::bindings::active_note::get_sender(v195: i32) {
        ^block27(v195: i32):
            v197 = builtin.global_symbol @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/__stack_pointer : ptr<byte, u8>
            v198 = hir.bitcast v197 : ptr<byte, i32>;
            v199 = hir.load v198 : i32;
            v200 = arith.constant 16 : i32;
            v201 = arith.sub v199, v200 : i32 #[overflow = wrapping];
            v202 = builtin.global_symbol @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/__stack_pointer : ptr<byte, u8>
            v203 = hir.bitcast v202 : ptr<byte, i32>;
            hir.store v203, v201;
            v204 = arith.constant 8 : i32;
            v205 = arith.add v201, v204 : i32 #[overflow = wrapping];
            hir.exec @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/miden::protocol::active_note::get_sender(v205)
            v207 = arith.constant 8 : u32;
            v206 = hir.bitcast v201 : u32;
            v208 = arith.add v206, v207 : u32 #[overflow = checked];
            v209 = arith.constant 4 : u32;
            v210 = arith.mod v208, v209 : u32;
            hir.assertz v210 #[code = 250];
            v211 = hir.int_to_ptr v208 : ptr<byte, i64>;
            v212 = hir.load v211 : i64;
            v213 = hir.bitcast v195 : u32;
            v382 = arith.constant 8 : u32;
            v215 = arith.mod v213, v382 : u32;
            hir.assertz v215 #[code = 250];
            v216 = hir.int_to_ptr v213 : ptr<byte, i64>;
            hir.store v216, v212;
            v381 = arith.constant 16 : i32;
            v218 = arith.add v201, v381 : i32 #[overflow = wrapping];
            v219 = builtin.global_symbol @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/__stack_pointer : ptr<byte, u8>
            v220 = hir.bitcast v219 : ptr<byte, i32>;
            hir.store v220, v218;
            builtin.ret ;
        };

        private builtin.function @miden_base_sys::bindings::active_note::get_script_root(v221: i32) {
        ^block29(v221: i32):
            v223 = builtin.global_symbol @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/__stack_pointer : ptr<byte, u8>
            v224 = hir.bitcast v223 : ptr<byte, i32>;
            v225 = hir.load v224 : i32;
            v226 = arith.constant 16 : i32;
            v227 = arith.sub v225, v226 : i32 #[overflow = wrapping];
            v228 = builtin.global_symbol @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/__stack_pointer : ptr<byte, u8>
            v229 = hir.bitcast v228 : ptr<byte, i32>;
            hir.store v229, v227;
            hir.exec @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/miden::protocol::active_note::get_script_root(v227)
            v230 = hir.bitcast v227 : u32;
            v231 = arith.constant 8 : u32;
            v232 = arith.mod v230, v231 : u32;
            hir.assertz v232 #[code = 250];
            v233 = hir.int_to_ptr v230 : ptr<byte, i64>;
            v234 = hir.load v233 : i64;
            v386, v387 = arith.split v234 : felt, felt;
            v394 = arith.constant 8 : u32;
            v238 = hir.bitcast v221 : u32;
            v240 = arith.add v238, v394 : u32 #[overflow = checked];
            v393 = arith.constant 8 : u32;
            v242 = arith.mod v240, v393 : u32;
            hir.assertz v242 #[code = 250];
            v388 = arith.join v387, v386 : i64;
            v243 = hir.int_to_ptr v240 : ptr<byte, i64>;
            hir.store v243, v388;
            v392 = arith.constant 8 : u32;
            v244 = hir.bitcast v227 : u32;
            v246 = arith.add v244, v392 : u32 #[overflow = checked];
            v391 = arith.constant 8 : u32;
            v248 = arith.mod v246, v391 : u32;
            hir.assertz v248 #[code = 250];
            v249 = hir.int_to_ptr v246 : ptr<byte, i64>;
            v250 = hir.load v249 : i64;
            v383, v384 = arith.split v250 : felt, felt;
            v254 = hir.bitcast v221 : u32;
            v390 = arith.constant 8 : u32;
            v256 = arith.mod v254, v390 : u32;
            hir.assertz v256 #[code = 250];
            v385 = arith.join v384, v383 : i64;
            v257 = hir.int_to_ptr v254 : ptr<byte, i64>;
            hir.store v257, v385;
            v389 = arith.constant 16 : i32;
            v259 = arith.add v227, v389 : i32 #[overflow = wrapping];
            v260 = builtin.global_symbol @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/__stack_pointer : ptr<byte, u8>
            v261 = hir.bitcast v260 : ptr<byte, i32>;
            hir.store v261, v259;
            builtin.ret ;
        };

        private builtin.function @miden_base_sys::bindings::active_note::get_serial_number(v262: i32) {
        ^block31(v262: i32):
            v264 = builtin.global_symbol @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/__stack_pointer : ptr<byte, u8>
            v265 = hir.bitcast v264 : ptr<byte, i32>;
            v266 = hir.load v265 : i32;
            v267 = arith.constant 16 : i32;
            v268 = arith.sub v266, v267 : i32 #[overflow = wrapping];
            v269 = builtin.global_symbol @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/__stack_pointer : ptr<byte, u8>
            v270 = hir.bitcast v269 : ptr<byte, i32>;
            hir.store v270, v268;
            hir.exec @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/miden::protocol::active_note::get_serial_number(v268)
            v271 = hir.bitcast v268 : u32;
            v272 = arith.constant 8 : u32;
            v273 = arith.mod v271, v272 : u32;
            hir.assertz v273 #[code = 250];
            v274 = hir.int_to_ptr v271 : ptr<byte, i64>;
            v275 = hir.load v274 : i64;
            v398, v399 = arith.split v275 : felt, felt;
            v406 = arith.constant 8 : u32;
            v279 = hir.bitcast v262 : u32;
            v281 = arith.add v279, v406 : u32 #[overflow = checked];
            v405 = arith.constant 8 : u32;
            v283 = arith.mod v281, v405 : u32;
            hir.assertz v283 #[code = 250];
            v400 = arith.join v399, v398 : i64;
            v284 = hir.int_to_ptr v281 : ptr<byte, i64>;
            hir.store v284, v400;
            v404 = arith.constant 8 : u32;
            v285 = hir.bitcast v268 : u32;
            v287 = arith.add v285, v404 : u32 #[overflow = checked];
            v403 = arith.constant 8 : u32;
            v289 = arith.mod v287, v403 : u32;
            hir.assertz v289 #[code = 250];
            v290 = hir.int_to_ptr v287 : ptr<byte, i64>;
            v291 = hir.load v290 : i64;
            v395, v396 = arith.split v291 : felt, felt;
            v295 = hir.bitcast v262 : u32;
            v402 = arith.constant 8 : u32;
            v297 = arith.mod v295, v402 : u32;
            hir.assertz v297 #[code = 250];
            v397 = arith.join v396, v395 : i64;
            v298 = hir.int_to_ptr v295 : ptr<byte, i64>;
            hir.store v298, v397;
            v401 = arith.constant 16 : i32;
            v300 = arith.add v268, v401 : i32 #[overflow = wrapping];
            v301 = builtin.global_symbol @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/__stack_pointer : ptr<byte, u8>
            v302 = hir.bitcast v301 : ptr<byte, i32>;
            hir.store v302, v300;
            builtin.ret ;
        };

        private builtin.function @miden_base_sys::bindings::active_account::get_balance(v303: felt, v304: felt) -> felt {
        ^block33(v303: felt, v304: felt):
            v306 = hir.exec @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/miden::protocol::active_account::get_balance(v303, v304) : felt
            builtin.ret v306;
        };

        private builtin.function @miden::protocol::active_account::get_balance(v307: felt, v308: felt) -> felt {
        ^block35(v307: felt, v308: felt):
            ub.unreachable ;
        };

        private builtin.function @miden::protocol::active_note::get_script_root(v310: i32) {
        ^block37(v310: i32):
            ub.unreachable ;
        };

        private builtin.function @miden::protocol::active_note::get_sender(v311: i32) {
        ^block39(v311: i32):
            ub.unreachable ;
        };

        private builtin.function @miden::protocol::active_note::get_serial_number(v312: i32) {
        ^block41(v312: i32):
            ub.unreachable ;
        };

        builtin.global_variable private @#__stack_pointer : i32 {
            builtin.ret_imm 1048576;
        };

        builtin.global_variable private @#GOT.data.internal.__memory_base : i32 {
            builtin.ret_imm 0;
        };

        builtin.segment @1048576 = 0x0000000100000001;
    };

    public builtin.function @run(v313: felt, v314: felt, v315: felt, v316: felt) {
    ^block43(v313: felt, v314: felt, v315: felt, v316: felt):
        hir.exec @miden:base/note-script@1.0.0/rust_sdk_swapp_note_bindings/miden:base/note-script@1.0.0#run(v313, v314, v315, v316)
        builtin.ret ;
    };
};